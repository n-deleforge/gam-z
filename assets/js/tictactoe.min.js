let GAME_TABLE,LIST_CASES,LAST,CURRENT_PLAYER=rand(1,2);const _GRID=3,_COLOR_PLAYER1=getVariableCSS("tttColor1"),_COLOR_PLAYER2=getVariableCSS("tttColor2");function play(t){if(" "==GAME_TABLE[LAST=t]){get("#writing").play(),navigator.vibrate("50"),GAME_TABLE[LAST]=1==CURRENT_PLAYER?'<span class="tttTic">X</span>':'<span class="tttTac">O</span>';for(let t=0;t<_GRID*_GRID;t++)LIST_CASES[t].innerHTML=GAME_TABLE[t];checkVictory()}}function createGame(){get("#tttPlayer").style.display="flex",get("#gameList").style.display="none",get("#play").style.display="none",checkPlayer(),(GAME_TABLE=new Array(_GRID*_GRID)).fill(" "),LIST_CASES=get(".tttCase");for(let t=0;t<LIST_CASES.length;t++)LIST_CASES[t].innerHTML="",LIST_CASES[t].addEventListener("click",()=>{play(t)})}function checkPlayer(t=!1){1==t&&(CURRENT_PLAYER=1==CURRENT_PLAYER?2:1),get("#tttPlayer").style.color=1==CURRENT_PLAYER?_COLOR_PLAYER1:_COLOR_PLAYER2,get("#tttPlayer").innerHTML=_CONTENT.tictactoe_turn_part1+CURRENT_PLAYER+_CONTENT.tictactoe_turn_part2}function checkVictory(){let t=GAME_TABLE[LAST];GAME_TABLE[0]==t&&GAME_TABLE[1]==t&&GAME_TABLE[2]==t||GAME_TABLE[3]==t&&GAME_TABLE[4]==t&&GAME_TABLE[5]==t||GAME_TABLE[6]==t&&GAME_TABLE[7]==t&&GAME_TABLE[8]==t||GAME_TABLE[0]==t&&GAME_TABLE[3]==t&&GAME_TABLE[6]==t||GAME_TABLE[1]==t&&GAME_TABLE[4]==t&&GAME_TABLE[7]==t||GAME_TABLE[2]==t&&GAME_TABLE[5]==t&&GAME_TABLE[8]==t||GAME_TABLE[0]==t&&GAME_TABLE[4]==t&&GAME_TABLE[8]==t||GAME_TABLE[2]==t&&GAME_TABLE[4]==t&&GAME_TABLE[6]==t?(endGame(),get("#tttPlayer").style.color=1==CURRENT_PLAYER?_COLOR_PLAYER1:_COLOR_PLAYER2,get("#tttPlayer").innerHTML=_CONTENT.tictactoe_win_part1+CURRENT_PLAYER+_CONTENT.tictactoe_win_part2):-1==GAME_TABLE.indexOf(" ")?(endGame(),get("#tttPlayer").innerHTML=_CONTENT.tictactoe_draw):checkPlayer(!0)}function endGame(){get("#tictactoeBoard").style.display="none",get("#gameList").style.display="flex",get("#reload").style.display="block",GAME.tictactoe.games++,storage("set","GAMZ-save",JSON.stringify(GAME))}get("~header").innerHTML="Gam'z ~ "+_CONTENT.tictactoe,get("#reload").addEventListener("click",()=>{document.location.reload()}),get("#play").addEventListener("click",createGame);