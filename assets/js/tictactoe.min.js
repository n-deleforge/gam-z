let GAME_TABLE,LIST_CASES,LAST,CURRENT_PLAYER=rand(1,2);const _GRID=3,_COLOR_PLAYER1=getVariableCSS("--ticTacToeColor1"),_COLOR_PLAYER2=getVariableCSS("--ticTacToeColor2");function play(e,E){if(" "==GAME_TABLE[LAST=e]){get("#writing").play(),GAME_TABLE[LAST]=E;for(let e=0;e<_GRID*_GRID;e++)LIST_CASES[e].innerHTML=GAME_TABLE[e];checkVictory(),checkPlayer(!0)}}function createGame(){(GAME_TABLE=new Array(_GRID*_GRID)).fill(" "),LIST_CASES=get(".case");for(let e=0;e<LIST_CASES.length;e++)LIST_CASES[e].innerHTML="",LIST_CASES[e].addEventListener("click",()=>{play(e,drawPawn())})}function drawPawn(){return 1==CURRENT_PLAYER?'<span class="tic">X</span>':'<span class="tac">O</span>'}function checkPlayer(e=!1){1==e&&(CURRENT_PLAYER=1==CURRENT_PLAYER?2:1),get("#player").style.color=1==CURRENT_PLAYER?_COLOR_PLAYER1:_COLOR_PLAYER2,get("#player").innerHTML=_CONTENT.turn_part1+CURRENT_PLAYER+_CONTENT.turn_part2}function checkVictory(){let e=GAME_TABLE[LAST];GAME_TABLE[0]==e&&GAME_TABLE[1]==e&&GAME_TABLE[2]==e||GAME_TABLE[3]==e&&GAME_TABLE[4]==e&&GAME_TABLE[5]==e||GAME_TABLE[6]==e&&GAME_TABLE[7]==e&&GAME_TABLE[8]==e||GAME_TABLE[0]==e&&GAME_TABLE[3]==e&&GAME_TABLE[6]==e||GAME_TABLE[1]==e&&GAME_TABLE[4]==e&&GAME_TABLE[7]==e||GAME_TABLE[2]==e&&GAME_TABLE[5]==e&&GAME_TABLE[8]==e||GAME_TABLE[0]==e&&GAME_TABLE[4]==e&&GAME_TABLE[8]==e||GAME_TABLE[2]==e&&GAME_TABLE[4]==e&&GAME_TABLE[6]==e?(get("#tab").style.display="none",get("#player").style.display="none",get("#results").style.display="flex",get("#reload").style.display="block",get("#resultsText").style.color=1==CURRENT_PLAYER?_COLOR_PLAYER1:_COLOR_PLAYER2,get("#resultsText").innerHTML=_CONTENT.victory_part1+CURRENT_PLAYER+_CONTENT.victory_part2):-1==GAME_TABLE.indexOf(" ")&&(get("#tab").style.display="none",get("#player").style.display="none",get("#results").style.display="flex",get("#reload").style.display="block",get("#resultsText").innerHTML=_CONTENT.draw)}get("#quit").addEventListener("click",()=>{document.location.href=_BACK_LINK}),get("#reload").addEventListener("click",()=>{document.location.reload()}),get("#game").addEventListener("click",()=>{get("#player").style.display="flex",get("#game").style.display="none",get("#quit").style.display="none",checkPlayer(),createGame()});