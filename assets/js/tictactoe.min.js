let tab,list,grid=3,player=Math.floor(Math.random()*Math.floor(2))+1;function play(e,t,l){if(" "==t[e]){get("#writing").play(),t[e]=l,list=get(".case");for(let e=0;e<grid*grid;e++)list[e].innerHTML=t[e];(victory(tab,e)||fullTable(tab))&&(get("#containerPopup").style.display="flex",get("#reload").addEventListener("click",function(){location.reload()}),victory(tab,e)&&(get("#popupText").style.color=1==player?"lightskyblue":"lightgreen",get("#popupText").innerHTML=display.victory_part1+player+display.victory_part2),fullTable(tab)&&!victory(tab,e)&&(get("#popupText").innerHTML=display.draw)),displayPlayer("newPlayer")}}function pawn(){return 1==player?'<span class="tic">X</span>':'<span class="tac">O</span>'}function displayPlayer(e){return"newPlayer"==e&&(player=1==player?2:1),get("#player").style.color=1==player?"lightskyblue":"lightgreen",get("#player").innerHTML=display.turn_part1+player+display.turn_part2}function fullTable(e){return-1==e.indexOf(" ")}function victory(e,t){let l=e[t];return e[0]==l&&e[1]==l&&e[2]==l||e[3]==l&&e[4]==l&&e[5]==l||e[6]==l&&e[7]==l&&e[8]==l||e[0]==l&&e[3]==l&&e[6]==l||e[1]==l&&e[4]==l&&e[7]==l||e[2]==l&&e[5]==l&&e[8]==l||e[0]==l&&e[4]==l&&e[8]==l||e[2]==l&&e[4]==l&&e[6]==l}get("#quit").addEventListener("click",function(){document.location.href="https://nicolas-deleforge.fr/apps/gamz"}),get("#game").addEventListener("click",function(){document.getElementsByTagName("nav")[0].style.display="flex",get("#game").style.display="none",get("#quit").style.display="none",displayPlayer(),(tab=new Array(grid*grid)).fill(" "),list=get(".case");for(let e=0;e<list.length;e++)list[e].innerHTML="",list[e].addEventListener("click",function(){play(e,tab,pawn())})});