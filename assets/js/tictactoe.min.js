let gameTable,listCases,lastCell,currentPlayer=rand(1,2);const _grid=3,_colorPlayer1=getVariableCSS("ttt-color-1"),_colorPlayer2=getVariableCSS("ttt-color-2");function play(e){if(" "==gameTable[lastCell=e]){get("#writing").play(),navigator.vibrate("50"),gameTable[lastCell]=1==currentPlayer?'<span class="tttTic">X</span>':'<span class="tttTac">O</span>';for(let e=0;e<_grid*_grid;e++)listCases[e].innerHTML=gameTable[e];checkVictory()}}function createGame(){get("#tttPlayer").style.display="flex",get("#gameList").style.display="none",get("#play").style.display="none",checkPlayer(),(gameTable=new Array(_grid*_grid)).fill(" "),listCases=get(".tttCase");for(let e=0;e<listCases.length;e++)listCases[e].innerHTML="",listCases[e].addEventListener("click",()=>{play(e)})}function checkPlayer(e=!1){1==e&&(currentPlayer=1==currentPlayer?2:1),get("#tttPlayer").style.color=1==currentPlayer?_colorPlayer1:_colorPlayer2,get("#tttPlayer").innerHTML=_content.tictactoe_turn_part1+currentPlayer+_content.tictactoe_turn_part2}function checkVictory(){let e=gameTable[lastCell];gameTable[0]==e&&gameTable[1]==e&&gameTable[2]==e||gameTable[3]==e&&gameTable[4]==e&&gameTable[5]==e||gameTable[6]==e&&gameTable[7]==e&&gameTable[8]==e||gameTable[0]==e&&gameTable[3]==e&&gameTable[6]==e||gameTable[1]==e&&gameTable[4]==e&&gameTable[7]==e||gameTable[2]==e&&gameTable[5]==e&&gameTable[8]==e||gameTable[0]==e&&gameTable[4]==e&&gameTable[8]==e||gameTable[2]==e&&gameTable[4]==e&&gameTable[6]==e?(endGame(),get("#tttPlayer").style.color=1==currentPlayer?_colorPlayer1:_colorPlayer2,get("#tttPlayer").innerHTML=_content.tictactoe_win_part1+currentPlayer+_content.tictactoe_win_part2):-1==gameTable.indexOf(" ")?(endGame(),get("#tttPlayer").innerHTML=_content.tictactoe_draw):checkPlayer(!0)}function endGame(){get("#tictactoeBoard").style.display="none",get("#gameList").style.display="flex",get("#reload").style.display="block",game.tictactoe.games++,setStorage("GAMZ-save",JSON.stringify(game))}get("~header").innerHTML="Gam'z ~ "+_content.tictactoe,get("#reload").addEventListener("click",()=>{document.location.reload()}),get("#play").addEventListener("click",createGame);