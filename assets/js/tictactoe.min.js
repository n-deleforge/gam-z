const grid=3;let tab,list,player=Math.floor(Math.random()*Math.floor(2))+1;const colorPlayer1=getVariableCSS("--ticTacToeColor1"),colorPlayer2=getVariableCSS("--ticTacToeColor2");function play(e,t,a){if(" "==t[e]){get("#writing").play(),t[e]=a;for(let e=0;e<grid*grid;e++)list[e].innerHTML=t[e];(victory(tab,e)||-1==tab.indexOf(" "))&&(get("#containerPopup").style.display="flex",get("#reload").addEventListener("click",function(){location.reload()}),victory(tab,e)&&(get("#popupText").style.color=1==player?colorPlayer1:colorPlayer2,get("#popupText").innerHTML=display.victory_part1+player+display.victory_part2),-1!=tab.indexOf(" ")||victory(tab,e)||(get("#popupText").innerHTML=display.draw)),displayPlayer(!0)}}function createGame(){(tab=new Array(grid*grid)).fill(" "),list=get(".case");for(let e=0;e<list.length;e++)list[e].innerHTML="",list[e].addEventListener("click",function(){play(e,tab,drawPawn())})}function drawPawn(){let e;return e=1==player?'<span class="tic">X</span>':'<span class="tac">O</span>'}function displayPlayer(e){1==e&&(player=1==player?2:1),get("#player").style.color=1==player?colorPlayer1:colorPlayer2,get("#player").innerHTML=display.turn_part1+player+display.turn_part2}function victory(e,t){let a=e[t];return e[0]==a&&e[1]==a&&e[2]==a||e[3]==a&&e[4]==a&&e[5]==a||e[6]==a&&e[7]==a&&e[8]==a||e[0]==a&&e[3]==a&&e[6]==a||e[1]==a&&e[4]==a&&e[7]==a||e[2]==a&&e[5]==a&&e[8]==a||e[0]==a&&e[4]==a&&e[8]==a||e[2]==a&&e[4]==a&&e[6]==a}get("#quit").addEventListener("click",function(){document.location.href="https://nicolas-deleforge.fr/apps/gamz"}),get("#game").addEventListener("click",function(){get("~nav").style.display="flex",get("#game").style.display="none",get("#quit").style.display="none",displayPlayer(!1),createGame()});