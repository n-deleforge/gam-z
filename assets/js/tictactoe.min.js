let GAME_TABLE,LIST_CASES,LAST,CURRENT_PLAYER=rand(1,2);const _GRID=3,_COLOR_PLAYER1=getVariableCSS("ticTacToeColor1"),_COLOR_PLAYER2=getVariableCSS("ticTacToeColor2");function play(e){if(" "==GAME_TABLE[LAST=e]){get("#writing").play(),navigator.vibrate("50"),GAME_TABLE[LAST]=1==CURRENT_PLAYER?'<span class="tic">X</span>':'<span class="tac">O</span>';for(let e=0;e<_GRID*_GRID;e++)LIST_CASES[e].innerHTML=GAME_TABLE[e];checkVictory(),checkPlayer(!0)}}function createGame(){get("#player").style.display="flex",get("#results").style.display="none",get("#play").style.display="none",get("#quit").style.display="none",checkPlayer(),(GAME_TABLE=new Array(_GRID*_GRID)).fill(" "),LIST_CASES=get(".case");for(let e=0;e<LIST_CASES.length;e++)LIST_CASES[e].innerHTML="",LIST_CASES[e].addEventListener("click",()=>{play(e)})}function checkPlayer(e=!1){1==e&&(CURRENT_PLAYER=1==CURRENT_PLAYER?2:1),get("#player").style.color=1==CURRENT_PLAYER?_COLOR_PLAYER1:_COLOR_PLAYER2,get("#player").innerHTML=_CONTENT.tictactoe_turn_part1+CURRENT_PLAYER+_CONTENT.tictactoe_turn_part2}function checkVictory(){let e=GAME_TABLE[LAST];GAME_TABLE[0]==e&&GAME_TABLE[1]==e&&GAME_TABLE[2]==e||GAME_TABLE[3]==e&&GAME_TABLE[4]==e&&GAME_TABLE[5]==e||GAME_TABLE[6]==e&&GAME_TABLE[7]==e&&GAME_TABLE[8]==e||GAME_TABLE[0]==e&&GAME_TABLE[3]==e&&GAME_TABLE[6]==e||GAME_TABLE[1]==e&&GAME_TABLE[4]==e&&GAME_TABLE[7]==e||GAME_TABLE[2]==e&&GAME_TABLE[5]==e&&GAME_TABLE[8]==e||GAME_TABLE[0]==e&&GAME_TABLE[4]==e&&GAME_TABLE[8]==e||GAME_TABLE[2]==e&&GAME_TABLE[4]==e&&GAME_TABLE[6]==e?(endGame(),get("#results").style.color=1==CURRENT_PLAYER?_COLOR_PLAYER1:_COLOR_PLAYER2,get("#results").innerHTML=_CONTENT.tictactoe_win_part1+CURRENT_PLAYER+_CONTENT.tictactoe_win_part2):-1==GAME_TABLE.indexOf(" ")&&(endGame(),get("#results").innerHTML=_CONTENT.tictactoe_draw)}function endGame(){get("#game").style.display="none",get("#player").style.display="none",get("#reload").style.display="block",get("#results").style.display="flex",GAME.tictactoe.games++,storage("set","GAMZ-save",JSON.stringify(GAME))}get("#results").innerHTML=_CONTENT.tictactoe_games+GAME.tictactoe.games,get("#reload").addEventListener("click",()=>{document.location.reload()}),get("#quit").addEventListener("click",()=>{document.location.href=_BACK_LINK}),get("#play").addEventListener("click",createGame);