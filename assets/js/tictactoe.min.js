let gameTable,casesList,player=rand(1,2);const GRID=3,COLOR_PLAYER1=getVariableCSS("--ticTacToeColor1"),COLOR_PLAYER2=getVariableCSS("--ticTacToeColor2");function play(e,a,t){if(" "==a[e]){get("#writing").play(),a[e]=t;for(let e=0;e<GRID*GRID;e++)casesList[e].innerHTML=a[e];(victory(gameTable,e)||-1==gameTable.indexOf(" "))&&(get("#containerPopup").style.display="flex",get("#reload").addEventListener("click",function(){location.reload()}),victory(gameTable,e)&&(get("#popupText").style.color=1==player?COLOR_PLAYER1:COLOR_PLAYER2,get("#popupText").innerHTML=CONTENT.victory_part1+player+CONTENT.victory_part2),-1!=gameTable.indexOf(" ")||victory(gameTable,e)||(get("#popupText").innerHTML=CONTENT.draw)),displayPlayer(!0)}}function createGame(){(gameTable=new Array(GRID*GRID)).fill(" "),casesList=get(".case");for(let e=0;e<casesList.length;e++)casesList[e].innerHTML="",casesList[e].addEventListener("click",function(){play(e,gameTable,drawPawn())})}function drawPawn(){return 1==player?'<span class="tic">X</span>':'<span class="tac">O</span>'}function displayPlayer(e){1==e&&(player=1==player?2:1),get("#player").style.color=1==player?COLOR_PLAYER1:COLOR_PLAYER2,get("#player").innerHTML=CONTENT.turn_part1+player+CONTENT.turn_part2}function victory(e,a){let t=e[a];return e[0]==t&&e[1]==t&&e[2]==t||e[3]==t&&e[4]==t&&e[5]==t||e[6]==t&&e[7]==t&&e[8]==t||e[0]==t&&e[3]==t&&e[6]==t||e[1]==t&&e[4]==t&&e[7]==t||e[2]==t&&e[5]==t&&e[8]==t||e[0]==t&&e[4]==t&&e[8]==t||e[2]==t&&e[4]==t&&e[6]==t}get("#quit").addEventListener("click",function(){document.location.href="https://nicolas-deleforge.fr/apps/gamz"}),get("#game").addEventListener("click",function(){get("~nav").style.display="flex",get("#game").style.display="none",get("#quit").style.display="none",displayPlayer(!1),createGame()});