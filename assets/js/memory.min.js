const _nbToWin=8,_nbPerLine=4;let nbClick=0,nbFound=0,listCards=get(".memoryCard"),displayCards=[],playedCards=[];const _pictures=["cute","cute","glasses","glasses","love","love","sad","sad","shocked","shocked","smile","smile","tongue","tongue","wink","wink"];function play(e){let a=0,t=2e3;playedCards.length<2&&0==displayCards[e]&&(get("#flip").play(),nbClick++,displayCards[e]=1,playedCards.push(e),turn(e),2==playedCards.length&&(listCards[playedCards[0]].data==listCards[playedCards[1]].data&&(t=0,a=2,++nbFound==_nbToWin&&endGame()),displayCards[playedCards[0]]=a,displayCards[playedCards[1]]=a,setTimeout(()=>{turn(playedCards[0]),turn(playedCards[1]),playedCards=[]},t)))}function turn(e){switch(displayCards[e]){case 0:listCards[e].src="assets/images/memory/recto.png";break;case 1:listCards[e].src="assets/images/memory/"+listCards[e].data+".png";break;case 2:listCards[e].classList.add("memoryFound")}}function createGame(){get("#play").style.display="none",get("#cheat").style.display="block",get("#reload").style.display="block";for(let e=0;e<_nbToWin;e++)displayCards.push(0,0);_pictures.sort(()=>Math.random()-.5);for(let e=0;e<listCards.length;e++)listCards[e].src=_content.memory_pathPicture+"recto.png",listCards[e].data=_pictures[e],listCards[e].classList.remove("memoryFound"),listCards[e].addEventListener("click",()=>{play(e)})}function cheat(){get("#cheat").style.display="none";for(let e=0;e<listCards.length;e++)displayCards[e]=2,listCards[e].src=_content.memory_pathPicture+listCards[e].data+".png",listCards[e].removeEventListener("click",()=>{play(e)})}function endGame(){let e=116-nbClick;game.memory.lastScore=e,e>game.memory.bestScore&&(game.memory.bestScore=e),setStorage("GAMZ-save",JSON.stringify(game)),get("#cheat").style.display="none",get("#memoryBoard").innerHTML="<p>"+_content.memory_win_part1+"</p>",get("#memoryBoard").innerHTML+="<p>"+_content.memory_win_part2+nbClick+_content.memory_win_part3+e+_content.memory_win_part4+"</p>"}get("~header").innerHTML="Gam'z ~ "+_content.memory,get("#reload").addEventListener("click",()=>{location.reload()}),get("#play").addEventListener("click",createGame),get("#cheat").addEventListener("click",cheat);